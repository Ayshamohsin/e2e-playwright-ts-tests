# Test info

- Name: Place Order : Register While Checkout
- Location: C:\Users\Administrator\Desktop\AyshaMohsin_AssessmentTasks\src\tests\registerWhileCheckout.spec.ts:11:5

# Error details

```
Error: expect(received).toEqual(expected) // deep equality

- Expected  - 2
+ Received  + 1

  Array [
    "Mrs. Augusta Stiedemann",
    "Howe - Maggio",
    "844 Kirstin Meadow",
    "Suite 771",
-   "West Laurie Ohio
- 29274-8951",
+   "West Laurie Ohio 29274-8951",
    "New Zealand",
    "1-805-258-4776 x64467",
  ]
    at C:\Users\Administrator\Desktop\AyshaMohsin_AssessmentTasks\src\tests\registerWhileCheckout.spec.ts:76:43
```

# Page snapshot

```yaml
- banner:
  - link "Website for automation practice":
    - /url: /
    - img "Website for automation practice"
  - list:
    - listitem:
      - link " Home":
        - /url: /
    - listitem:
      - link " Products":
        - /url: /products
    - listitem:
      - link " Cart":
        - /url: /view_cart
    - listitem:
      - link " Logout":
        - /url: /logout
    - listitem:
      - link " Delete Account":
        - /url: /delete_account
    - listitem:
      - link " Test Cases":
        - /url: /test_cases
    - listitem:
      - link " API Testing":
        - /url: /api_list
    - listitem:
      - link " Video Tutorials":
        - /url: https://www.youtube.com/c/AutomationExercise
    - listitem:
      - link " Contact us":
        - /url: /contact_us
    - listitem:  Logged in as Darnell Heller
- list:
  - listitem:
    - link "Home":
      - /url: /
  - listitem: Checkout
- heading "Address Details" [level=2]
- list:
  - listitem:
    - heading "Your delivery address" [level=3]
  - listitem: Mrs. Augusta Stiedemann
  - listitem: Howe - Maggio
  - listitem: 844 Kirstin Meadow
  - listitem: Suite 771
  - listitem: West Laurie Ohio 29274-8951
  - listitem: New Zealand
  - listitem: 1-805-258-4776 x64467
- list:
  - listitem:
    - heading "Your billing address" [level=3]
  - listitem: Mrs. Augusta Stiedemann
  - listitem: Howe - Maggio
  - listitem: 844 Kirstin Meadow
  - listitem: Suite 771
  - listitem: West Laurie Ohio 29274-8951
  - listitem: New Zealand
  - listitem: 1-805-258-4776 x64467
- heading "Review Your Order" [level=2]
- table:
  - rowgroup:
    - row "Item Description Price Quantity Total":
      - cell "Item"
      - cell "Description"
      - cell "Price"
      - cell "Quantity"
      - cell "Total"
      - cell
  - rowgroup:
    - row "Product Image Stylish Dress Women > Dress Rs. 1500 1 Rs. 1500":
      - cell "Product Image":
        - link "Product Image":
          - /url: ""
          - img "Product Image"
      - cell "Stylish Dress Women > Dress":
        - heading "Stylish Dress" [level=4]:
          - link "Stylish Dress":
            - /url: /product_details/4
        - paragraph: Women > Dress
      - cell "Rs. 1500":
        - paragraph: Rs. 1500
      - cell "1":
        - button "1"
      - cell "Rs. 1500":
        - paragraph: Rs. 1500
    - row "Total Amount Rs. 1500":
      - cell
      - cell
      - cell "Total Amount":
        - heading "Total Amount" [level=4]
      - cell "Rs. 1500":
        - paragraph: Rs. 1500
- text: If you would like to add a comment about your order, please write it in the field below.
- textbox
- link "Place Order":
  - /url: /payment
- contentinfo:
  - heading "Subscription" [level=2]
  - textbox "Your email address"
  - button ""
  - paragraph: Get the most recent updates from our site and be updated your self...
  - paragraph: Copyright © 2021 All rights reserved
- insertion:
  - iframe
```

# Test source

```ts
   1 | import {test,expect} from '@playwright/test'
   2 | import{HomePage} from '../pages/homePage'
   3 | import { CartPage } from '../pages/cartPage';
   4 | import { SignUp } from '../pages/signUP';
   5 | import { CheckOut } from '../pages/checkOut';
   6 |
   7 |
   8 |
   9 |
  10 |
  11 | test('Place Order : Register While Checkout' , async ({page}) =>{
  12 |       const homePageObject = new HomePage(page);
  13 |       const cartPageObject = new CartPage(page);
  14 |       const signUpPageObject = new SignUp(page);
  15 |       const checkOutPageObject = new CheckOut(page);
  16 |
  17 |
  18 |
  19 |       await homePageObject.navigate();
  20 |       //Assertion logo is visible
  21 |       const isLogoVisible = await homePageObject.getLogoVisibility();
  22 |        expect(isLogoVisible).toBeTruthy();
  23 |        //Validating Home icon is visible
  24 |       const navLinks = await homePageObject.getNavBarLinksNames();
  25 |       expect (navLinks).toBeTruthy();
  26 |      //Footer is visible
  27 |      const footerIsVisible = await homePageObject.getFooterVisibility();
  28 |      expect (footerIsVisible).toBeTruthy();
  29 |
  30 |      //Add Products
  31 |     
  32 |      await homePageObject.addProducts();
  33 |      await homePageObject.goToCartPage();
  34 |
  35 |
  36 |      //Cart Page Visibility 
  37 |     // await cartPageObject.isCartPageVisible();
  38 |      await expect (cartPageObject.cartItems).toBeVisible();
  39 |
  40 |      //Checkout
  41 |      await cartPageObject.proceedToCheckout();
  42 |
  43 |      //Login/Register
  44 |      await cartPageObject.clickLoginRegister();
  45 |
  46 |      //Signup Page
  47 |      const day = '15';
  48 |      const month = '8';
  49 |      const year = '2010';
  50 |      const country = "New Zealand"
  51 |      const user = await signUpPageObject.registerUser(day,month,year,country);
  52 |      const messageLocator = await signUpPageObject.verifyAccountCreated();
  53 |      await expect(messageLocator).toHaveText('Congratulations! Your new account has been successfully created!');
  54 |      await signUpPageObject.clickContinueButton();
  55 |      await page.pause();
  56 |      await expect(signUpPageObject.page.getByText(` Logged in as ${user.name}`, { exact: false })).toBeVisible();
  57 |     
  58 |
  59 |      //Go to cart page
  60 |      await homePageObject.goToCartPage();
  61 |      await cartPageObject.proceedToCheckout();
  62 |
  63 |      //Verify Delivery Address
  64 |       const normalizeLines = (lines: string[]) =>
  65 |   lines.map(line => line.replace(/\s+/g, ' ').trim());
  66 |      const expectedDeliveryAddress = [
  67 |         `Mrs. ${user.firstName} ${user.lastName}`,
  68 |         `${user.company}`,
  69 |         `${user.address}`,
  70 |         `${user.addressField}`,
  71 |         `${user.city} ${user.state}\n${user.zipCode}`,
  72 |         `${user.country}`,
  73 |         `${user.phone}`
  74 |      ];
  75 |      const actualDeliveryAddress = normalizeLines(await checkOutPageObject.verifyAddressDetail()); //learn
> 76 |      await  expect(actualDeliveryAddress).toEqual(expectedDeliveryAddress);
     |                                           ^ Error: expect(received).toEqual(expected) // deep equality
  77 |       console.log(expectedDeliveryAddress)
  78 |
  79 |
  80 |  
  81 |
  82 |
  83 |
  84 |
  85 | });
  86 |
```